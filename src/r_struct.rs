// ç±»åž‹
fn r_type() {
    // boolç±»åž‹å°±æ˜¯ bool
    // æ•´åž‹ i32 u32 isize usizeç­‰
    // æµ®ç‚¹åž‹ f32 f64
    // å­—ç¬¦ç±»åž‹æ¯”è¾ƒç‰¹æ®Šï¼Œæ˜¯Unicodeç±»åž‹ï¼Œæ”¯æŒemojiï¼Œæ¯”è¾ƒç‰¹æ®Šã€‚èŒƒå›´ U+0000~U+D7FF , U+E000~U+10FFFF ã€‚
    let a = '2';
    let b = '$';
    let c = 'ðŸ¤”';
}

// struct
// è°ƒè¯•ä½¿ç”¨ï¼ŒruståŒ…å«è°ƒè¯•åŠŸèƒ½ï¼Œè¿™æ˜¯ä¸ºè¿™ä¸ªç»“æž„ä½“æ˜¾ç¤ºçš„é€‰æ‹©è¿™ä¸€ä¸ªåŠŸèƒ½ã€‚
#[derive(Debug)]
struct User {
    name: String,
    age: u32,
}

// tuple struct
struct Color(i32, u32, i32);

fn r_struct(name: String, age: u32) {
    // å¿…é¡»å…¨éƒ¨èµ‹å€¼ï¼Œä¸èƒ½åƒgoä¸­ï¼Œåªå£°æ˜Žä¸€éƒ¨åˆ†
    let user1 = User {
        // å…¥å‚å­—æ®µå’Œç»“æž„ä½“å­—æ®µä¸€è‡´ï¼Œå¯ä»¥ç›´æŽ¥ç®€å†™ï¼Œç±»ä¼¼nameã€‚
        name,
        age: 32,
    };
    // ..user1 ä½¿ç”¨ user1ä¸­çš„å€¼ï¼Œ
    let user2 = User {
        name: String::from("123"),
        // å…ƒç´ ç›¸åŒå¯ä»¥ä½¿ç”¨ã€‚
        ..user1
    };
    let color = Color(1, 2, 3);
    // è¿™æ ·éœ€è¦å®žçŽ° Display
    // println!("{}", user1);
    // è¿™æ ·éœ€è¦å®žçŽ° Debugï¼Œæˆ–è€…åœ¨ç»“æž„ä½“ä¸ŠåŠ ä¸Š #[derive(Debug)]
    println!("{:?}", user1);
    // æ‰“å°æ›´æ¸…æ™°
    println!("{:#?}", user2);
}

// ç»“æž„ä½“çš„æ–¹æ³•
// å¯ä»¥æœ‰å¤šä¸ª impl User
impl User {
    // èŽ·å–åå­—çš„æ–¹æ³•
    // fn getName(&self) -> String {
    //     // è¿™é‡Œä¹‹æ‰€ä»¥æŠ¥é”™ï¼Œæ˜¯å› ä¸ºrustä¸­ï¼Œæ•°æ®ä¸èƒ½ä»»æ„èµ‹å€¼
    //     // é™¤äº†åŸºæœ¬ç±»åž‹å’Œå®žçŽ°äº†Copyçš„traitçš„ç±»åž‹ã€‚
    //     // Stringåœ¨heapä¸Šï¼Œå¹¶ä¸”æ²¡ä¸»åŠ¨å®žçŽ°copyï¼Œæˆ‘ä»¬è¿”å›žä¸€ä¸ªnameæ—¶å€™ï¼Œå› ä¸ºæ˜¯å€Ÿç”¨ï¼Œä¸èƒ½ç§»äº¤æ‰€æœ‰æƒã€‚
    //     self.name
    // }
    fn getAge(&self) -> u32 {
        self.age
    }
    // å…³è”å‡½æ•°ï¼Œå…³è”å‡½æ•°ä¸ä¼ selfï¼Œå¯ä»¥ç›´æŽ¥é€šè¿‡ç»“æž„ä½“è°ƒç”¨
    // è°ƒç”¨æ–¹å¼æœ‰ç‚¹åƒjavaä¸­é™æ€æ–¹æ³•ï¼ŒåŠŸèƒ½ç±»ä¼¼goä¸­NewObjectè¿™ç§ã€‚
    // è°ƒç”¨æ–¹å¼ User::newUser("ä½ å¥½")
    fn newUser(name: String) -> User {
        User {
            name,
            age: 18,
        }
    }
}

// æžšä¸¾ç±»åž‹
// åˆ«äººå¯ä»¥ç”¨æžšä¸¾ç±»åž‹ã€‚æ–¹å¼IpAddrKind::V4
enum IpAddrKind {
    // æ•°æ®å¯ä»¥æ˜¯ä»»ä½•ç±»åž‹
    V4(u8, u8, u8, u8),
    V6,
    // æžšä¸¾ç±»åž‹æ˜¯ç»“æž„ä½“
    V8 { a: u32 },
}

// ç»™æžšä¸¾ç±»åž‹å®šä¹‰æ–¹æ³•
impl IpAddrKind {
    fn call(&self) -> IpAddrKind {
        self::V4
    }
}